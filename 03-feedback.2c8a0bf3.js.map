{"mappings":"qhBAAA,IAAAA,EAAAC,EAAA,SAEA,MAAMC,EAAOC,SAASC,cAAc,kBAC9BC,EAAaH,EAAKE,cAAc,uBAChCE,EAAeJ,EAAKE,cAAc,4BAwCxCG,OAAOC,iBAAiB,QAvBxB,WACE,IAAKC,aAAaC,QAjBH,uBAkBb,OAEF,MAAMC,EAAaC,KAAKC,MAAMJ,aAAaC,QApB5B,wBAqBfL,EAAWS,MAAQH,EAAWI,MAC9BT,EAAaQ,MAAQH,EAAWK,WAkBlCd,EAAKM,iBAAiB,QAASS,EAAAjB,GAAEkB,UAtCjC,SAAyBC,GACvB,MAAMC,EAAY,CAChBL,MAAO,GACPC,QAAS,IAGRP,aAAaC,QARD,wBASbW,OAAOC,OAAOF,EAAWR,KAAKC,MAAMJ,aAAaC,QATpC,yBAYfU,EAAUD,EAAMI,OAAOC,MAAQL,EAAMI,OAAOT,MAC5CL,aAAagB,QAbE,sBAagBb,KAAKc,UAAUN,MA2BW,MAC3DlB,EAAKM,iBAAiB,UAhBtB,SAAqBW,GACnBA,EAAMQ,iBACN,MACEC,UAAUb,MAAEA,EAAKC,QAAEA,IACjBG,EAAMU,cAEVC,QAAQC,IAAI,QAAShB,EAAMD,OAC3BgB,QAAQC,IAAI,UAAWf,EAAQF,OAE/BT,EAAWS,MAAQ,GACnBR,EAAaQ,MAAQ,GACrBL,aAAauB,WApCE","sources":["src/js/03-feedback.js"],"sourcesContent":["import _ from 'lodash';\n\nconst form = document.querySelector('.feedback-form');\nconst emailField = form.querySelector('input[name=\"email\"]')\nconst messageFiled = form.querySelector('textarea[name=\"message\"]')\nconst localKey = 'feedback-form-state';\n\nfunction storageFormData(event) {\n  const formValue = {\n    email: '',\n    message: '',\n  };\n\n  if(localStorage.getItem(localKey)) {\n    Object.assign(formValue, JSON.parse(localStorage.getItem(localKey)))\n  }\n\n  formValue[event.target.name] = event.target.value\n  localStorage.setItem(localKey, JSON.stringify(formValue));\n}\n\nfunction checkStorage () {\n  if (!localStorage.getItem(localKey)) {\n    return;\n  }\n  const formValues = JSON.parse(localStorage.getItem(localKey))\n  emailField.value = formValues.email\n  messageFiled.value = formValues.message\n}\n\nfunction formSubmit (event) {\n  event.preventDefault()\n  const {\n    elements: { email, message },\n  } = event.currentTarget;\n\n  console.log('email', email.value)\n  console.log('message', message.value)\n\n  emailField.value = ''\n  messageFiled.value = ''\n  localStorage.removeItem(localKey)\n}\n\nwindow.addEventListener('load', checkStorage);\nform.addEventListener('input', _.throttle(storageFormData, 500));\nform.addEventListener('submit', formSubmit)\n"],"names":["$kEUo3","parcelRequire","$945622fd0f572e60$var$form","document","querySelector","$945622fd0f572e60$var$emailField","$945622fd0f572e60$var$messageFiled","window","addEventListener","localStorage","getItem","formValues","JSON","parse","value","email","message","$parcel$interopDefault","throttle","event","formValue","Object","assign","target","name","setItem","stringify","preventDefault","elements","currentTarget","console","log","removeItem"],"version":3,"file":"03-feedback.2c8a0bf3.js.map"}