{"mappings":"iiBAAA,IAAAA,EAAAC,EAAA,SAEMC,EAAOC,SAASC,cAAc,kBAC9BC,EAAaH,EAAKE,cAAc,uBAChCE,EAAeJ,EAAKE,cAAc,4BAClCG,EAAW,sBAuCjBC,OAAOC,iBAAiB,QAvBxB,WACE,GAAKC,aAAaC,QAAQJ,GAA1B,CAGA,IAAMK,EAAaC,KAAKC,MAAMJ,aAAaC,QAAQJ,IACnDF,EAAWU,MAAQH,EAAWI,MAC9BV,EAAaS,MAAQH,EAAWK,YAkBlCf,EAAKO,iBAAiB,QAASS,EAAAlB,GAAEmB,UAtCjC,SAAyBC,GACvB,IAAMC,EAAY,CAChBL,MAAO,GACPC,QAAS,IAGRP,aAAaC,QAAQJ,IACtBe,OAAOC,OAAOF,EAAWR,KAAKC,MAAMJ,aAAaC,QAAQJ,KAG3Dc,EAAUD,EAAMI,OAAOC,MAAQL,EAAMI,OAAOT,MAC5CL,aAAagB,QAAQnB,EAAUM,KAAKc,UAAUN,MA2BW,MAC3DnB,EAAKO,iBAAiB,UAhBtB,SAAqBW,GACnBA,EAAMQ,iBACN,IAEuBC,EAAnBT,EAAMU,cADRC,SAAYf,EAAKa,EAALb,MAAOC,EAAOY,EAAPZ,QAGrBe,QAAQC,IAAI,QAASjB,EAAMD,OAC3BiB,QAAQC,IAAI,UAAWhB,EAAQF,OAE/BV,EAAWU,MAAQ,GACnBT,EAAaS,MAAQ,GACrBL,aAAawB,WAAW3B,M","sources":["src/js/03-feedback.js"],"sourcesContent":["import _ from 'lodash';\n\nconst form = document.querySelector('.feedback-form');\nconst emailField = form.querySelector('input[name=\"email\"]')\nconst messageFiled = form.querySelector('textarea[name=\"message\"]')\nconst localKey = 'feedback-form-state';\n\nfunction storageFormData(event) {\n  const formValue = {\n    email: '',\n    message: '',\n  };\n\n  if(localStorage.getItem(localKey)) {\n    Object.assign(formValue, JSON.parse(localStorage.getItem(localKey)))\n  }\n\n  formValue[event.target.name] = event.target.value\n  localStorage.setItem(localKey, JSON.stringify(formValue));\n}\n\nfunction checkStorage () {\n  if (!localStorage.getItem(localKey)) {\n    return;\n  }\n  const formValues = JSON.parse(localStorage.getItem(localKey))\n  emailField.value = formValues.email\n  messageFiled.value = formValues.message\n}\n\nfunction formSubmit (event) {\n  event.preventDefault()\n  const {\n    elements: { email, message },\n  } = event.currentTarget;\n\n  console.log('email', email.value)\n  console.log('message', message.value)\n\n  emailField.value = ''\n  messageFiled.value = ''\n  localStorage.removeItem(localKey)\n}\n\nwindow.addEventListener('load', checkStorage);\nform.addEventListener('input', _.throttle(storageFormData, 500));\nform.addEventListener('submit', formSubmit)\n"],"names":["$1WSnx","parcelRequire","$b00c40859be242c5$var$form","document","querySelector","$b00c40859be242c5$var$emailField","$b00c40859be242c5$var$messageFiled","$b00c40859be242c5$var$localKey","window","addEventListener","localStorage","getItem","formValues","JSON","parse","value","email","message","$parcel$interopDefault","throttle","event","formValue","Object","assign","target","name","setItem","stringify","preventDefault","_elements","currentTarget","elements","console","log","removeItem"],"version":3,"file":"03-feedback.d106b733.js.map"}